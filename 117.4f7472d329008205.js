"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[117],{9117:(te,h,l)=>{l.r(h),l.d(h,{MockTableComponent:()=>ee});var t=l(5849),c=l(6814);const T=["templateBody"];function C(e,s){1&e&&t._UZ(0,"template")}const A=(e,s)=>({$implicit:e,index:s});function D(e,s){if(1&e&&(t.TgZ(0,"tr",5),t.YNc(1,C,1,0,"template",6),t.qZA()),2&e){const n=s.$implicit,i=s.index,r=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",r.templateBody)("ngTemplateOutletContext",t.WLB(2,A,n,i))}}function R(e,s){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,D,2,5,"tr",4),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.rows)}}const k=[[["tr"]]],w=["tr"];let B=(()=>{class e{constructor(){this.rows=[]}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=t.Xpm({type:e,selectors:[["test-table-container"]],contentQueries:function(i,r,a){if(1&i&&t.Suo(a,T,7),2&i){let o;t.iGM(o=t.CRH())&&(r.templateBody=o.first)}},inputs:{rows:"rows"},standalone:!0,features:[t.jDz],ngContentSelectors:w,decls:5,vars:1,consts:[[1,"m-auto","table-responsive"],[1,"table","table-sm","table-bordered","align-middle"],[1,"table-dark"],[4,"ngIf"],["class","cell-hover",4,"ngFor","ngForOf"],[1,"cell-hover"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){1&i&&(t.F$t(k),t.TgZ(0,"div",0)(1,"table",1)(2,"thead",2),t.Hsn(3),t.qZA(),t.YNc(4,R,2,1,"tbody",3),t.qZA()()),2&i&&(t.xp6(4),t.Q6J("ngIf",r.templateBody))},dependencies:[c.O5,c.ax,c.tP],encapsulation:2,changeDetection:0})}return e})();var x=l(1474);let O=(()=>{class e{constructor(){this.http=(0,t.f3M)(x.eN)}getJSON(n){return this.http.get(`assets/json/${n}.json`)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var p=function(e){return e.ESCAPE="Escape",e.ENTER="Enter",e}(p||{});let _=(()=>{class e{constructor(){this.nativeElement=(0,t.f3M)(t.SBq).nativeElement,this.render=(0,t.f3M)(t.Qsj)}unsetReadonly(){this.render.removeAttribute(this.nativeElement,"readonly")}setReadonly(){this.render.setAttribute(this.nativeElement,"readonly","")}onEditableKeyUp(n){const i=this.nativeElement.hasAttribute("readonly");n.key===p.ESCAPE&&!i&&this.setReadonly(),n.key===p.ENTER&&(i?this.unsetReadonly():this.setReadonly())}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=t.lG2({type:e,selectors:[["","testElementEditableByKeyboard",""]],hostBindings:function(i,r){1&i&&t.NdJ("keyup.Enter",function(o){return r.onEditableKeyUp(o)})("keyup.Escape",function(o){return r.onEditableKeyUp(o)})},standalone:!0})}return e})();var f=function(e){return e.ARROW_UP="ArrowUp",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e}(f||{});let N=(()=>{class e{constructor(){this.td=(0,t.f3M)(t.SBq).nativeElement}focusElementIntoSell(n){const i=Array.from(n.children).find(r=>r?.focus);i&&i.focus()}findNextCell({key:n}){const i=this.td.closest("tr"),r=this.td.closest("table");if(!r||!i)return;let a=i.rowIndex,o=this.td.cellIndex;switch(n){case f.ARROW_UP:a--;break;case f.ARROW_DOWN:a++;break;case f.ARROW_LEFT:o--;break;case f.ARROW_RIGHT:o++}const d=r.rows[a]?.cells;return d?d[o]:void 0}onDirectionKeyUp(n){if(!n.target.hasAttribute("readonly"))return;const r=this.findNextCell(n);r&&this.focusElementIntoSell(r)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=t.lG2({type:e,selectors:[["","testTableKeyboardNavigation",""]],hostBindings:function(i,r){1&i&&t.NdJ("keyup.ArrowUp",function(o){return r.onDirectionKeyUp(o)})("keyup.ArrowDown",function(o){return r.onDirectionKeyUp(o)})("keyup.ArrowLeft",function(o){return r.onDirectionKeyUp(o)})("keyup.ArrowRight",function(o){return r.onDirectionKeyUp(o)})},standalone:!0})}return e})();var M=l(4829),v=l(5592),j=l(1631),H=l(4266),u=l(4674),S=l(7400);const I=["addListener","removeListener"],F=["addEventListener","removeEventListener"],K=["on","off"];function m(e,s,n,i){if((0,u.m)(n)&&(i=n,n=void 0),i)return m(e,s,n).pipe((0,S.Z)(i));const[r,a]=function L(e){return(0,u.m)(e.addEventListener)&&(0,u.m)(e.removeEventListener)}(e)?F.map(o=>d=>e[o](s,d,n)):function Z(e){return(0,u.m)(e.addListener)&&(0,u.m)(e.removeListener)}(e)?I.map(g(e,s)):function U(e){return(0,u.m)(e.on)&&(0,u.m)(e.off)}(e)?K.map(g(e,s)):[];if(!r&&(0,H.z)(e))return(0,j.z)(o=>m(o,s,n))((0,M.Xf)(e));if(!r)throw new TypeError("Invalid event target");return new v.y(o=>{const d=(...y)=>o.next(1<y.length?y:y[0]);return r(d),()=>a(d)})}function g(e,s){return n=>i=>e[n](s,i)}var E=l(9397),Q=l(9773);function b(e){e||((0,t.gHi)(b),e=(0,t.f3M)(t.ktI));const s=new v.y(n=>e.onDestroy(n.next.bind(n)));return n=>n.pipe((0,Q.R)(s))}let W=(()=>{class e{constructor(){this.td=(0,t.f3M)(t.SBq).nativeElement,this.renderer=(0,t.f3M)(t.Qsj),this.className="table-active",this.blurHandler$=m(this.td,"focusout").pipe((0,E.b)(()=>this.removeTableActiveClass())),this.focusHandler$=m(this.td,"focusin").pipe((0,E.b)(()=>this.setTableActiveClass())),this.blurHandler$.pipe(b()).subscribe(),this.focusHandler$.pipe(b()).subscribe()}setTableActiveClass(){this.renderer.addClass(this.td,this.className)}removeTableActiveClass(){this.renderer.removeClass(this.td,this.className)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=t.lG2({type:e,selectors:[["","testTableActiveCell",""]],standalone:!0})}return e})(),Y=(()=>{class e{transform(n){return Object.keys(n)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275pipe=t.Yjl({name:"objectKeys",type:e,pure:!0,standalone:!0})}return e})();var G=l(7398);let P=(()=>{class e{constructor(){this.nativeElement=(0,t.f3M)(t.SBq).nativeElement,this.render=(0,t.f3M)(t.Qsj)}setReadonly(){this.render.setAttribute(this.nativeElement,"readonly","")}onEditableElementBlur(){this.setReadonly()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=t.lG2({type:e,selectors:[["","testElementEditableBlur",""]],hostBindings:function(i,r){1&i&&t.NdJ("blur",function(){return r.onEditableElementBlur()})},standalone:!0})}return e})();function q(e,s){if(1&e&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.hij(" ",n," ")}}function z(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"td",5),t._UZ(2,"input",6),t.qZA(),t.BQk()),2&e){const n=s.$implicit;t.xp6(2),t.Q6J("value",n.value)}}function X(e,s){1&e&&(t.YNc(0,z,3,1,"ng-container",3),t.ALo(1,"keyvalue")),2&e&&t.Q6J("ngForOf",t.lcZ(1,1,s.$implicit))}function V(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"test-table-container",1)(2,"tr",2),t.YNc(3,q,2,1,"th",3),t.ALo(4,"objectKeys"),t.qZA(),t.YNc(5,X,2,3,"ng-template",null,4,t.W1O),t.qZA(),t.BQk()),2&e){const n=s.ngIf;t.xp6(1),t.Q6J("rows",n),t.xp6(2),t.Q6J("ngForOf",t.lcZ(4,2,n[0]))}}let ee=(()=>{class e{constructor(){this.assetsService=(0,t.f3M)(O),this.tableMockData$=this.assetsService.getJSON("table-data").pipe((0,G.U)(({tableMockData:n})=>n))}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=t.Xpm({type:e,selectors:[["test-table"]],standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[3,"rows"],[1,"text-center"],[4,"ngFor","ngForOf"],["templateBody",""],["testTableActiveCell","","testTableKeyboardNavigation","",1,"p-2"],["testElementEditableByKeyboard","","testElementEditableBlur","","readonly","","type","text",1,"text-center","m-2",3,"value"]],template:function(i,r){1&i&&(t.YNc(0,V,7,4,"ng-container",0),t.ALo(1,"async")),2&i&&t.Q6J("ngIf",t.lcZ(1,1,r.tableMockData$))},dependencies:[c.O5,c.ax,c.Ov,c.Nd,Y,W,N,P,_,B],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}"],changeDetection:0})}return e})()}}]);